<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lionet - 小说在线转码工具</title>
    <script src="./lib/axios.js"></script>
    <script src="./lib/vue.js"></script>
    <script src="./lib/socket.io.js"></script>
    <script src="./lib/jquery.js"></script>
</head>

<body>
    <div id="app">
        <div class="container mt-4">
            <div class="mb-3">
                <a class="d-none d-md-block" href="/">回到首页</a>
            </div>

            <div class="alert alert-danger" v-if="errors.length">
                <ul class="mb-0">
                    <li v-for="item in errors">
                        <b>{{ item }}</b>
                    </li>
                </ul>
            </div>

            <div class="alert alert-info" v-if="infos.length">
                <ul class="mb-0">
                    <li v-for="item in infos">
                        <b>{{ item }}</b>
                    </li>
                </ul>
            </div>

            <div class="info mt-4" v-if="data.list">
                <h1>{{ data.title }}</h1>
                <b>{{ data.author }}</b> ·
                <b>{{ data.origin }}</b>
                <div class="row mt-3">
                    <div v-if="data.imageUrl" class="d-none d-md-block col-md-2">
                        <img :src="data.imageUrl" alt="bookImage">
                    </div>
                    <div class="col-md-10 col-12" :class="{'col-12': !data.imageUrl}">
                        <div class="description word-wrap jumbotron mb-0" v-html="data.description"></div>
                    </div>
                    <div class="col-12 mt-3">
                        <button @click="addBookshelf" class="btn" :class="isStore ? 'btn-danger' : 'btn-success'">
                            <span v-if="loadBookShelf" class="vam">{{ isStore ? '已在' : '加入' }}书架</span> 
                            <svg v-else t="1577272216857" class="icon chapterLoad" viewBox="0 0 1024 1024" version="1.1"
                                xmlns="http://www.w3.org/2000/svg" p-id="2629" width="25" height="25">
                                <path
                                    fill='#fff'
                                    d="M393.664871 495.52477c0 11.307533-9.168824 20.466124-20.466124 20.466124l-103.671151 0c-11.307533 0-20.466124-9.15859-20.466124-20.466124 0-11.2973 9.15859-20.466124 20.466124-20.466124l103.671151 0C384.496048 475.058646 393.664871 484.22747 393.664871 495.52477zM805.207925 495.52477c0 11.307533-9.15859 20.466124-20.466124 20.466124l-103.671151 0c-11.2973 0-20.466124-9.15859-20.466124-20.466124 0-11.2973 9.168824-20.466124 20.466124-20.466124l103.671151 0C796.049335 475.058646 805.207925 484.22747 805.207925 495.52477zM547.600823 237.917668l0 103.671151c0 11.307533-9.15859 20.466124-20.466124 20.466124s-20.466124-9.15859-20.466124-20.466124l0-103.671151c0-11.307533 9.15859-20.466124 20.466124-20.466124C538.442232 217.451544 547.600823 226.610134 547.600823 237.917668zM547.600823 649.460722l0 103.681384c0 11.2973-9.15859 20.466124-20.466124 20.466124s-20.466124-9.168824-20.466124-20.466124l0-103.681384c0-11.2973 9.15859-20.466124 20.466124-20.466124C538.442232 628.994598 547.600823 638.163421 547.600823 649.460722zM411.562497 428.754041c-3.786233 6.569626-10.673084 10.233062-17.733896 10.233062-3.479241 0-6.999414-0.880043-10.222829-2.742461l-89.774653-51.861158c-9.782807-5.658883-13.129019-18.173918-7.480368-27.956725 5.658883-9.79304 18.173918-13.139252 27.956725-7.490601l89.774653 51.861158C413.864936 406.456199 417.22138 418.971234 411.562497 428.754041zM767.918647 634.633015c-3.796466 6.559393-10.673084 10.233062-17.744129 10.233062-3.469008 0-6.989181-0.890276-10.212596-2.752694l-89.774653-51.861158c-9.782807-5.64865-13.139252-18.173918-7.480368-27.956725 5.64865-9.79304 18.173918-13.139252 27.956725-7.480368l89.774653 51.861158C770.221086 612.32494 773.567297 624.850208 767.918647 634.633015zM673.723312 282.70778l-51.861158 89.76442c-3.786233 6.559393-10.673084 10.233062-17.744129 10.233062-3.469008 0-6.989181-0.890276-10.212596-2.752694-9.79304-5.64865-13.139252-18.163685-7.480368-27.956725l51.861158-89.76442c5.64865-9.79304 18.163685-13.139252 27.956725-7.490601C676.025751 260.399705 679.382195 272.91474 673.723312 282.70778zM467.854571 639.053698l-51.861158 89.774653c-3.796466 6.559393-10.673084 10.233062-17.744129 10.233062-3.479241 0-6.999414-0.890276-10.222829-2.752694-9.782807-5.658883-13.139252-18.173918-7.480368-27.956725l51.861158-89.774653c5.658883-9.782807 18.173918-13.129019 27.956725-7.480368C470.15701 616.755856 473.503221 629.27089 467.854571 639.053698zM460.435601 379.911636c-3.213181 1.862417-6.733355 2.742461-10.202363 2.742461-7.081279 0-13.957897-3.673669-17.744129-10.243295l-51.809993-89.795119c-5.64865-9.79304-2.292206-22.308075 7.500834-27.956725 9.79304-5.64865 22.308075-2.292206 27.956725 7.500834l51.79976 89.795119C473.585085 361.747951 470.228641 374.262986 460.435601 379.911636zM666.089447 736.400816c-3.223415 1.852184-6.743588 2.742461-10.212596 2.742461-7.071046 0-13.957897-3.673669-17.744129-10.243295l-51.79976-89.805352c-5.64865-9.79304-2.292206-22.308075 7.500834-27.956725 9.782807-5.64865 22.297842-2.281973 27.946492 7.500834l51.809993 89.805352C679.238932 718.237131 675.882488 730.752166 666.089447 736.400816zM760.499677 384.526747l-89.795119 51.809993c-3.223415 1.852184-6.743588 2.742461-10.212596 2.742461-7.071046 0-13.957897-3.673669-17.744129-10.243295-5.64865-9.79304-2.292206-22.308075 7.500834-27.956725l89.805352-51.809993c9.782807-5.638417 22.297842-2.281973 27.946492 7.500834C773.649162 366.363062 770.292718 378.878097 760.499677 384.526747zM404.02073 590.180594l-89.805352 51.79976c-3.213181 1.862417-6.733355 2.742461-10.202363 2.742461-7.081279 0-13.957897-3.673669-17.744129-10.243295-5.64865-9.79304-2.292206-22.308075 7.500834-27.956725l89.795119-51.79976c9.79304-5.64865 22.308075-2.292206 27.956725 7.500834S413.81377 584.531943 404.02073 590.180594z"
                                    p-id="2630"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="chapters mt-3">
                    <div class="chapterInfo">
                        <p v-if="data.list">共有 {{ data.list.length }} 章</p>
                        <p v-if="data.list">最后一章: <a :href="getChapter(lastChapter.href)" target="_blank">{{ lastChapter.title }}</a></p>
                        <p>更新时间: {{ data.updated }}</p>
                    </div>

                    <div class="tools">
                        <a @click="updateOrder('asc')" :class="{'text-dark': order == 'asc'}" href="javascript:void(0);">正序</a>
                        |
                        <a @click="updateOrder('desc')" :class="{'text-dark': order == 'desc'}" href="javascript:void(0);">倒序</a>
                    </div>
    
                    <div class="row">
                        <div class="col-12 col-md-4 mt-3" v-for="item in data.list">
                            <a @click="getChapterHrefClick(item.href, item.title)" :href="getChapter(item.href)" target="_blank" class="text-secondary">{{ item.title }}</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="mt-4">
            <div class="container">
                <p>在线人数: <span>{{ personNumber }}</span></p>
                <p><a href="https://github.com/jialeliang/novel-online">Github地址</a> 觉得不错的话，给个Star支持一下叭~</p>
                <p>仅供学习交流, 严禁使用此工具进行任何违法行为。</p>
                <p>Copyright &copy; 2019 lionet. All Rights Reserved.</p>
            </div>
        </footer>

        <div class="top">回到顶部</div>

    </div>
</body>

</html>